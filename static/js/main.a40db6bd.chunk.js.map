{"version":3,"sources":["components/Loader.jsx","components/Chat.jsx","components/Login.jsx","App.js","index.js"],"names":["Loader","className","Chat","useContext","Context","auth","firestore","useAuthState","user","useState","value","setValue","useCollectionData","collection","orderBy","messages","loading","sendMessage","a","add","uid","displayName","photoURL","text","createdAt","firebase","FieldValue","serverTimestamp","sendMessageEnter","event","key","map","message","classnames","id","style","fontWeight","alt","src","InputGroup","FormControl","placeholder","aria-label","aria-describedby","onChange","e","target","onKeyPress","Append","Button","onClick","variant","Login","login","provider","GoogleAuthProvider","signInWithPopup","console","log","App","Navbar","bg","Brand","signOut","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","createContext","ReactDOM","render","StrictMode","Provider","document","getElementById"],"mappings":"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","file":"static/js/main.a40db6bd.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nfunction Loader() {\r\n  return (\r\n    <div className=\"lds-default\">\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Loader\r\n","import React, {useContext, useState} from 'react'\r\n\r\nimport {useAuthState} from \"react-firebase-hooks/auth\";\r\nimport {Context} from \"../index\";\r\nimport {Button,InputGroup,FormControl} from 'react-bootstrap'\r\nimport '../css/Chat.css'\r\nimport firebase from \"firebase\";\r\nimport {useCollectionData} from \"react-firebase-hooks/firestore\";\r\nimport classnames from 'classnames'\r\nimport Loader from './Loader';\r\n\r\n\r\nfunction Chat() {\r\n  const {auth, firestore} = useContext(Context)\r\n  const [user] = useAuthState(auth)\r\n  const [value, setValue] = useState('')\r\n  const [messages, loading] = useCollectionData(\r\n      firestore.collection('messages').orderBy('createdAt')\r\n  )\r\n  \r\n\r\n  \r\n  const sendMessage = async () => {\r\n    value &&\r\n    firestore.collection('messages').add({\r\n        uid: user.uid,\r\n        displayName: user.displayName,\r\n        photoURL: user.photoURL,\r\n        text: value,\r\n        createdAt: firebase.firestore.FieldValue.serverTimestamp()\r\n    })\r\n    setValue('')\r\n  }\r\n  const sendMessageEnter = async (event) => {\r\n    if(event.key === 'Enter') {\r\n      value &&\r\n      firestore.collection('messages').add({\r\n        uid: user.uid,\r\n        displayName: user.displayName,\r\n        photoURL: user.photoURL,\r\n        text: value,\r\n        createdAt: firebase.firestore.FieldValue.serverTimestamp()\r\n      })\r\n      setValue('')\r\n    } \r\n  }\r\n\r\n  if (loading) {\r\n    return <Loader/>\r\n  }\r\n  \r\n  return (\r\n    <div className=\"chat__block\">\r\n      <div className=\"chat__block-inner\">\r\n        <div className=\"message__block\">\r\n          {messages.map(message => \r\n          \r\n            <div key={message.createdAt} className={classnames('message',{'message__enemy': user.uid !== message.uid})}>\r\n              \r\n              <div className={classnames('message-inner',{'message-inner__enemy': user.uid !== message.uid})}>\r\n                <div id=\"message-name\" style={{fontWeight: 700}} >{message.displayName}</div>\r\n                <div className=\"message-text\" >{message.text}</div>\r\n              </div>\r\n              <img alt=\"\" className={classnames('message-avatar',{'message-avatar__enemy': user.uid !== message.uid})} src={message.photoURL}  />\r\n            </div>\r\n            )}\r\n\r\n        </div>\r\n        <InputGroup>\r\n          <FormControl\r\n            placeholder=\"Введите сообщение\"\r\n            aria-label=\"Recipient's username\"\r\n            aria-describedby=\"basic-addon2\"\r\n            value={value}\r\n            onChange={e => setValue(e.target.value)}\r\n            onKeyPress={sendMessageEnter}\r\n          />\r\n          <InputGroup.Append >\r\n            <Button onClick={sendMessage} variant=\"success\">Отправить</Button>\r\n          </InputGroup.Append>\r\n        </InputGroup>\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Chat\r\n","import React, {useContext} from 'react'\r\nimport { Button } from 'react-bootstrap'\r\nimport {Context} from '../index'\r\nimport '../css/Login.css'\r\nimport firebase from \"firebase\";\r\n\r\nfunction Login() {\r\n\r\n  const {auth} =  useContext(Context)\r\n  const login = async () => {\r\n    const provider = new firebase.auth.GoogleAuthProvider()\r\n    const {user} = await auth.signInWithPopup(provider)\r\n    console.log(user)\r\n}\r\n  return (\r\n    <div className=\"login__block\">\r\n      <div className=\"login__block-inner\">\r\n        <p className=\"login-title\">Войти в чат</p>\r\n        <Button onClick={login} variant=\"success\">Войти с помощью Google</Button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login\r\n","import React, { useContext } from 'react';\n\nimport Chat from './components/Chat';\nimport Login from './components/Login';\nimport { Navbar, Button } from 'react-bootstrap';\nimport { BrowserRouter } from 'react-router-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport {useAuthState} from \"react-firebase-hooks/auth\";\nimport {Context} from \"./index\";\n\nfunction App() {\n  const {auth} = useContext(Context)\n  const [user] = useAuthState(auth)\n  \n  const logoutFunc = () => {\n    auth.signOut()\n  }\n  return (\n    <div className=\"app\">\n      <BrowserRouter>\n        <Navbar  bg=\"dark\" variant=\"dark\" className=\"navbar-expand\">\n          <Navbar.Brand >React Real time chat</Navbar.Brand>\n          {\n            user\n              ? <Button variant=\"primary\" onClick={logoutFunc}>Logout</Button>\n              : 0\n          }\n          \n        </Navbar>\n      </BrowserRouter>\n      {\n        user\n          ? <Chat/>\n          : <Login/>\n        \n      }\n    </div>\n  );\n}\n\nexport default App;\n","import React, { createContext } from 'react';\nimport ReactDOM from 'react-dom';\nimport firebase from 'firebase';\nimport 'firebase/firestore';\nimport 'firebase/auth';\nimport App from './App';\n\n// Your web app's Firebase configuration\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\n\n// Initialize Firebase\nfirebase.initializeApp({\n  apiKey: \"AIzaSyAQ17nP0LanZ0q2zqNRlmd1papUxWsKSWg\",\n  authDomain: \"chat-react-ae26e.firebaseapp.com\",\n  projectId: \"chat-react-ae26e\",\n  storageBucket: \"chat-react-ae26e.appspot.com\",\n  messagingSenderId: \"661893252893\",\n  appId: \"1:661893252893:web:940d15d61e1841eb5483f4\",\n  measurementId: \"G-SBZ74L5YEX\"\n});\n\nconst auth = firebase.auth()\nconst firestore = firebase.firestore()\n\nexport const Context = createContext(null)\n\nReactDOM.render(\n  <React.StrictMode>\n    <Context.Provider value={{\n      firebase,\n      auth,\n      firestore\n    }}>\n      <App />\n    </Context.Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}